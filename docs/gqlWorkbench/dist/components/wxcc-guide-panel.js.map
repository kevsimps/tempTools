{"file":"wxcc-guide-panel.js","mappings":"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","names":["__stencil_proxyCustomElement"],"sources":["src/components/wxcc-guide-panel/wxcc-guide-panel.css?tag=wxcc-guide-panel&encapsulation=shadow","src/components/wxcc-guide-panel/wxcc-guide-panel.tsx"],"sourcesContent":["aside {\r\n    position: fixed;\r\n    /* top:8%; */\r\n    bottom: 0;\r\n    right: -100%;\r\n    width: 40rem;\r\n    max-width: 34%;\r\n    height: 92vh;\r\n    background: #d6c5c5;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.27);\r\n    transition: right 1.3s ease-out;\r\n    z-index: 2;\r\n    overflow: scroll;\r\n    \r\n}\r\n\r\n\r\n:host([flip]) aside {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: -100%;\r\n    width: 40rem;\r\n    max-width: 34%;\r\n    height: 92vh;\r\n    background: #d6c5c5;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.27);\r\n    transition: left 1.3s ease-out;\r\n    z-index: 2;\r\n    overflow: scroll;\r\n    \r\n}\r\n\r\n:host([opened]) aside {\r\n    right: 0;\r\n\r\n}\r\n:host([opened][flip]) aside {\r\n\r\n  left:0;\r\n    /* right: 67% */\r\n\r\n}\r\nmain slot{\r\n    margin: 1rem;\r\n}\r\n\r\n.flipper{\r\n   float : right;\r\n}\r\n.post-header{\r\n    display: none;\r\n    /* position: fixed; */\r\n}\r\nheader {\r\n    display: block;\r\n    padding: 1rem;\r\n    /* background: black; */\r\n    background: #2196F3;\r\n    position: fixed;\r\n    top: 8%;\r\n    /* width: 100%; */\r\n    width: 31.75%;\r\n\r\n}\r\n\r\nh1.post-title {\r\n    font-size: 1.5rem;\r\n    color: white;\r\n    margin: 0;\r\n\r\n}\r\n.md-content,\r\n.post-content {\r\n    margin: 1em;\r\n}\r\n\r\nh1 {\r\n    font-size: 1.5rem;\r\n    margin: 0;\r\n\r\n}\r\n\r\nheader button {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 1rem;\r\n    color: white;\r\n    background: transparent;\r\n    font-size: 1.5rem;\r\n    border: none;\r\n\r\n}\r\n\r\nheader button:focus {\r\n    outline: none;\r\n}\r\n\r\n#tabs {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n    margin: 1rem 0;\r\n    padding-top: 4rem;\r\n\r\n}\r\n\r\n#tabs button {\r\n    width: 30%;\r\n    background: white;\r\n    color: black;\r\n    text-align: center;\r\n    border: 1px solid  #2196F3;\r\n    font: inherit;\r\n    padding: 0.15rem 0;\r\n\r\n}\r\n\r\n#tabs :nth-child(1) {\r\n    border-top-left-radius: 20px;\r\n    border-bottom-left-radius: 20px;\r\n}\r\n#tabs :nth-last-child(1) {\r\n    border-top-right-radius: 20px;\r\n    border-bottom-right-radius: 20px;\r\n}\r\n\r\n#tabs button.active,\r\n#tabs button:hover,\r\n#tabs button:active {\r\n    /* background:black; */\r\n    background: #2196F3;\r\n    color: white;\r\n    border: 1px solid #2196F3\r\n}\r\n\r\n#tabs button:focus {\r\n    outline: none;\r\n}\r\n\r\n#contact-information {\r\n    padding: 0 1rem;\r\n\r\n}\r\n\r\n/* .backdrop {\r\n    position: fixed;\r\n    top:0;\r\n    left:0;\r\n    width: 100%;\r\n    height:100vh;\r\n    background: rgba(0, 0, 0, 0.75);\r\n    z-index: 10;\r\n    display: none;\r\n    opacity:0;\r\n    pointer-events: none;\r\n    transition: opacity 0.5s ease-out;\r\n}\r\n:host([opened]) .backdrop{\r\n    display: block;\r\n    opacity:1;\r\n    pointer-events: all;\r\n\r\n\r\n} */\r\n .md-toggle,\r\n .md-header__inner,\r\n .md-skip,\r\n .md-header--shadow,\r\n .md-footer,\r\n /* .md-grid, */\r\n .md-overlay,\r\n.site-header,\r\n.site-footer,\r\n.book-header,\r\n.book-summary,\r\n.search-results {\r\n    display: none;\r\n}\r\n\r\nul.nav {\r\n    margin: 1em;\r\n    padding: 0;\r\n    list-style: none;\r\n\r\n}\r\n\r\nli.nav {\r\n    margin: 0.25rem 0;\r\n    padding: 0.25rem;\r\n    border: 1px solid #ccc;\r\n    cursor: pointer;\r\n}\r\n\r\nli.nav:hover,\r\nli.nav:active {\r\n    /* background:black; */\r\n    background: #2196F3;\r\n    color: white;\r\n}\r\n\r\nsvg{\r\n    fill:#c0c0c0;\r\n    height:20px;\r\n    width:80px;\r\n}\r\nsvg:hover{\r\n    fill: #f0efef;\r\n    /* fill: #f7f7f7 */\r\n}\r\n\r\n/* for gql lessons */\r\n.btn{border-radius:30px;padding:5px 10px; border:1px #2196F3}.btn:hover{background: #2196F3;color:white;}table td,table th{border:1px solid #404040;}table{border-collapse: collapse;}","import { Component, Prop, State, h, Listen } from \"@stencil/core\";\r\n\r\n@Component({\r\n  tag: \"wxcc-guide-panel\",\r\n  styleUrl: \"wxcc-guide-panel.css\",\r\n  shadow: true\r\n\r\n})\r\nexport class SideDrawer {\r\n  @State() showNav = false;\r\n  @Prop({ reflect: true }) arttitle: string;\r\n  @Prop({ reflect: true, mutable: true }) opened: boolean;\r\n  @Prop({ reflect: true, mutable: true }) flip: boolean;\r\n  @State() content\r\n  @State() lessons: { title: string, url: string }[] = []\r\n  @State() currentPage\r\n  @Prop({ reflect: true }) lList: string;\r\n  @State() lastScroll = 0;\r\n\r\n  async componentWillLoad() {\r\n\r\n    const response = await fetch(this.lList)\r\n    // sessionStorage.setItem(\"lessons\", await response.text())\r\n    const lessons = await response.json()\r\n    this.lessons = await lessons.map(match => {\r\n      return { title: match[\"title\"], url: match[\"address\"] }\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n  // onCloseDrawer(){\r\n  //     this.opened=false;\r\n  // }\r\n  onContentChange(content: string) {\r\n    this.showNav = content === \"nav\"\r\n    // console.log(content)\r\n  }\r\n  // @Method()\r\n  // async open(){\r\n  //   this.opened=true \r\n  // }\r\n\r\n  @Listen('toggleGuide', { target: \"body\" })\r\n  onToggle(event: CustomEvent) {\r\n    console.log(event.detail)\r\n    this.opened = !this.opened\r\n  }\r\n\r\n  @Listen('wxccGuidePageTurn', { target: \"body\" })\r\n  onNext(event: CustomEvent) {\r\n    //  console.log(event.detail)\r\n    let url\r\n    const iHere = this.lessons.findIndex(x => x.title === this.currentPage)\r\n    if (!iHere) {\r\n      this.currentPage = this.lessons[0].title\r\n    }\r\n    //  console.log(this.currentPage)\r\n    //  console.log(iHere)\r\n    // this.currentPage = this.lessons[iHere + 1].title\r\n    if (event.detail === \"next\") {\r\n      url = this.lessons[iHere + 1].url\r\n      this.currentPage = this.lessons[iHere + 1].title\r\n      this.lastScroll = document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop\r\n      document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop = 0\r\n    } else {\r\n      url = this.lessons[iHere - 1].url\r\n      this.currentPage = this.lessons[iHere - 1].title\r\n      document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop = this.lastScroll\r\n    }\r\n    this.getHTML(url)\r\n      .then(html => {\r\n        if (html !== null) {\r\n          this.content = html\r\n          this.content = <div innerHTML={this.content}></div>\r\n          // console.log(html);\r\n\r\n        }\r\n      });\r\n      this.showNav = false\r\n  }\r\n\r\n  onChoice(url) {\r\n    this.getHTML(url)\r\n      .then(html => {\r\n        if (html !== null) {\r\n          this.content = html\r\n          this.content = <div innerHTML={this.content}></div>\r\n          this.currentPage = this.lessons[this.lessons.findIndex(x => x.url === url)].title\r\n          this.showNav = false\r\n        }\r\n      })\r\n  }\r\n\r\n  async getHTML(url) {\r\n    try {\r\n      const response = await fetch(url);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! Status: ${response.status}`);\r\n      }\r\n\r\n      const html = await response.text();\r\n      return html;\r\n    } catch (error) {\r\n      console.error(\"Error during fetch:\", error);\r\n      return null;\r\n    }\r\n  }\r\n componentDidUpdate(){\r\n  \r\n    Array.from(document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelectorAll(\"textarea\")).forEach((element:any) => {element.value = element.value.replaceAll(\"\\\\\",\"\")});\r\n    // document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"aside\").scrollTop=0 \r\n    // Remove style css from jekyll site\r\n    document.querySelector(\"wxcc-guide-panel\").shadowRoot.querySelector(\"link[rel=stylesheet]\").remove()\r\n\r\n }\r\n  render() {\r\n    const fIcon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M32 96l320 0V32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l96 96c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-96 96c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160L32 160c-17.7 0-32-14.3-32-32s14.3-32 32-32zM480 352c17.7 0 32 14.3 32 32s-14.3 32-32 32H160v64c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-96-96c-6-6-9.4-14.1-9.4-22.6s3.4-16.6 9.4-22.6l96-96c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 64H480z\"/></svg>\r\n    let mainContent = this.content || <slot />;\r\n    if (this.showNav) {\r\n      mainContent = <ul class=\"nav\">{this.lessons.map(lesson => (\r\n        <li class=\"nav\" onClick={this.onChoice.bind(this, lesson.url)}><strong>{lesson.title}</strong></li>\r\n      ))}</ul>\r\n    }\r\n\r\n\r\n    return [\r\n      // <div class=\"backdrop\" onClick={this.onCloseDrawer.bind(this)}/>,\r\n      <aside >\r\n        <header>\r\n          <h1 class=\"post-title\">{this.currentPage || this.arttitle} <span class=\"flipper\" onClick={()=>this.flip = !this.flip} >{fIcon}</span></h1>\r\n          {/* <button onClick={this.onCloseDrawer.bind(this)}>X</button> */}\r\n        </header>\r\n\r\n        <section id=\"tabs\">\r\n          <button class={!this.showNav ? \"active\" : \"\"} onClick={this.onContentChange.bind(this, \"lesson\")}>Lesson</button>\r\n          <button class={this.showNav ? \"active\" : \"\"} onClick={this.onContentChange.bind(this, \"nav\")}>Navigation</button>\r\n        </section>\r\n        <main>\r\n          {mainContent}\r\n        </main>\r\n      </aside >\r\n    ];\r\n  }\r\n}\r\n"],"version":3}